<!DOCTYPE html>
<html>
    <head>
        <title>Rock Paper Scissors</title>
    </head>
    
    <body>
        <h1>Rock Paper Scissors</h1>
        <div class="btns">
            <button id="Rock">Rock</button>
            <button id="Paper">Paper</button>
            <button id="Scissors">Scissors</button>
        </div>
        <div class="results">
            <p id="score">Player: 0 Computer: 0</p>
    
        </div>

    </body>



    <script>
        let playerScore = 0;
        let computerScore = 0;

        function computerPlay(){
            let value = Math.floor(Math.random() * 100);
            
            if(value < 30){
                return "Rock";
            }
            else if (value < 60){
                return "Paper";
            }
            else{
                return "Scissors";
            }
        }

        function updateScore(matchResult){
            const score = document.querySelector("#score");
            
            if(matchResult.search("You Win") != -1){
                playerScore++;
            }

            else if(matchResult.search("You Lose") != -1){
                computerScore++;
            }

            score.textContent = `Player: ${playerScore} Computer: ${computerScore}` 
        }
        function gameOver(){
            if(playerScore == 5){
                    alert("You won the game!");
                    resetScore();
            }
            else if(computerScore == 5){
                    alert("You lost the game!");
                    resetScore();
            }          
        }

        function resetScore(){
            playerScore =0;
            computerScore =0;
        }
        function playRound(){
            let text = findWinner(this.id,computerPlay())
            updateScore(text);
            roundResults.textContent= text;
            gameOver();
        }

        function findWinner(playerSelection, computerSelection){
            if(playerSelection == computerSelection){
                return "Draw!";
            }
            else if (playerSelection == "Rock"){
                if(computerSelection == "Scissors"){
                    return "You Win! Rock beats Scissors.";
                }
                else if(computerSelection == "Paper"){
                    return "You Lose! Paper beats Rock.";
                }
            }
            else if(playerSelection == "Paper"){
                if(computerSelection == "Scissors"){
                    return "You Lose! Scissors beats Paper.";
                }
                else if (computerSelection == "Rock"){
                    return "You Win! Paper beats Rock.";
                }
            }
            else if (playerSelection == "Scissors"){
                if( computerSelection == "Paper"){
                    return "You Win! Scissors beats Paper.";
                }
                else if (computerSelection == "Rock"){
                    return "You Lose! Rock beats Scissors.";
                }
            }
        }

        const btns = document.querySelectorAll('button');

        btns.forEach((btn) => { 

            btn.addEventListener('click',playRound);

        });

        const results = document.querySelector('.results');
        const roundResults = document.createElement('p');
        results.appendChild(roundResults);

       

    </script>
</html>